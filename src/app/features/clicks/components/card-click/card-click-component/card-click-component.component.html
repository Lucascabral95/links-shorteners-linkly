<div
  class="card card-compact bg-base-100 shadow-lg border border-base-300 rounded-xl"
>
  <div class="p-4 border-b border-base-300">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <div
          class="w-9 h-9 bg-primary/10 rounded-full flex items-center justify-center"
        >
          <svg
            class="w-5 h-5 text-primary"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"
            ></path>
          </svg>
        </div>
        <div>
          <h3 class="font-bold text-base-content text-sm truncate">
            {{ click().link.title || "Sin título" }}
          </h3>
          <p class="text-xs text-base-content/70">
            {{ click().user.full_name }}
          </p>
        </div>
      </div>

      <span
        class="badge badge-sm"
        [class]="
          click().link.isActive
            ? 'badge-success badge-outline'
            : 'badge-error badge-outline'
        "
      >
        {{ click().link.isActive ? "Activo" : "Inactivo" }}
      </span>
    </div>
  </div>

  <div class="p-4 space-y-3">
    <div class="space-y-1">
      <label
        class="text-xs font-medium text-base-content/70 uppercase tracking-wide"
      >
        URL Original
      </label>
      <div
        class="flex items-center justify-between bg-base-200 rounded-lg pl-3"
      >
        <p class="text-sm font-mono text-primary">
          {{ click().link.originalUrl }}
        </p>
        <button
          class="btn btn-ghost btn-square btn-sm"
          (click)="copyOriginalUrl(click().link.originalUrl)"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
            ></path>
          </svg>
        </button>
      </div>

      <div class="space-y-1">
        <label
          class="text-xs font-medium text-base-content/70 uppercase tracking-wide"
        >
          Código Corto
        </label>
        <div
          class="flex items-center justify-between bg-base-200 rounded-lg pl-3"
        >
          <span class="text-sm font-mono text-primary">{{
            click().link.shortCode
          }}</span>
          <button
            class="btn btn-ghost btn-square btn-sm"
            (click)="copyShortCode(click().link.shortCode)"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
              ></path>
            </svg>
          </button>
        </div>
      </div>

      <div class="grid grid-cols-2 gap-4 pt-1">
        <div class="space-y-1">
          <label
            class="text-xs font-medium text-base-content/70 uppercase tracking-wide"
          >
            Dispositivo
          </label>
          <div class="flex items-center space-x-2">
            <svg
              class="w-4 h-4 text-base-content/70"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"
              ></path>
            </svg>
            <span class="text-sm text-base-content">{{ click().device }}</span>
          </div>
        </div>

        <div class="space-y-1">
          <label
            class="text-xs font-medium text-base-content/70 uppercase tracking-wide"
          >
            Navegador
          </label>
          <div class="flex items-center space-x-2">
            <svg
              class="w-4 h-4 text-base-content/70"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"
              ></path>
            </svg>
            <span class="text-sm text-base-content">{{ click().browser }}</span>
          </div>
        </div>
      </div>

      @if (click().link.description) {
      <div class="space-y-1 pt-1">
        <label
          class="text-xs font-medium text-base-content/70 uppercase tracking-wide"
        >
          Descripción
        </label>
        <p class="text-sm text-base-content/90 line-clamp-2">
          {{ click().link.description }}
        </p>
      </div>
      }
    </div>

    <!-- <div class="my-3 flex justify-between items-center">
      <div
        class="badge badge-sm badge-outline"
        [class]="click().link.isActive ? 'badge-success' : 'badge-error'"
      >
        {{ click().link.isActive ? "Activo" : "Inactivo" }}
      </div>
      <div
        class="badge badge-sm badge-outline"
        [class]="click().link.isActive ? 'badge-success' : 'badge-error'"
      >
        {{ click().link.isActive ? "Activo" : "Inactivo" }}
      </div>
    </div> -->

    <div class="px-4 py-2 bg-base-100/50">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-2">
          <svg
            class="w-4 h-4 text-base-content/60"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
          <span class="text-xs text-base-content/60 font-medium">
            {{ click().created_at | date : "short" }}
          </span>
        </div>

        <div class="flex items-center space-x-2">
          <div class="w-2 h-2 bg-success rounded-full"></div>
          <span class="text-xs text-base-content/60 font-medium"
            >Click registrado</span
          >
        </div>
      </div>
    </div>
  </div>

  @if (shortCodeCopied()) {
  <toast-component [message]="messageCopied()" [successOrError]="'success'" />
  }
</div>
