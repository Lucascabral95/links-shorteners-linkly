<div class="relative min-h-screen bg-base-100 md:flex">
  @if (isMenuOpen()) {
  <div
    (click)="toggleMenu()"
    class="fixed inset-0 bg-black/60 z-30 md:hidden"
  ></div>

  <nav-component
    class="fixed top-0 left-0 h-full z-40 transition-transform duration-300 ease-in-out transform translate-x-0 md:hidden"
    (closeMenu)="toggleMenu()"
  />
  }

  <nav-component class="hidden md:block md:flex-shrink-0" />

  <div class="flex-1 flex flex-col md:min-h-screen">
    <header
      class="sticky top-0 z-20 flex h-16 flex-shrink-0 items-center justify-between gap-4 border-b border-base-300 bg-base-100/80 px-4 backdrop-blur-sm"
    >
      <div class="flex items-center gap-5">
        <button
          (click)="toggleMenu()"
          class="btn btn-square btn-ghost md:hidden"
        >
          <i class="fa-solid fa-bars text-xl"></i>
        </button>
        <div class="hidden sm:flex items-center gap-2">
          <i class="fa-solid fa-link"></i>
          <p class="text-sm font-semibold">
            Links: {{ adminService.quantityLinks() }}
          </p>
        </div>
        <div class="hidden sm:flex items-center gap-2">
          <i class="fa-solid fa-computer-mouse"></i>
          <p class="text-sm font-semibold">
            Clicks: {{ adminService.quantityClicks() }}
          </p>
        </div>
      </div>

      <div class="flex items-center gap-2">
        <div class="inline-grid *:[grid-area:1/1]">
          <div class="status status-success animate-ping"></div>
          <div class="status status-success"></div>
        </div>
        <div class="badge badge-outline">
          {{ authService.getPayloadJWT()?.full_name }}
        </div>
      </div>
    </header>

    <main class="flex-1 overflow-y-auto p-4 sm:p-6">
      <router-outlet />
    </main>
  </div>

  @if (showModal()) {
  <create-link-modal title="Crear enlace" (onClose)="showModal.set(false)" />
  }
</div>
