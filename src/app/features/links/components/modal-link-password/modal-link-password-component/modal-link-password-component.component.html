<div
  class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-md animate-in fade-in duration-300"
>
  <div
    class="p-4 max-h-[75vh] overflow-y-auto scrollbar-thin scrollbar-thumb-primary/20 scrollbar-track-transparent rounded-2xl border-2 border-primary"
  >
    <div class="flex justify-end items-center">
      <button
        type="button"
        class="mb-2 cursor-pointer flex items-center justify-center w-6 h-6 bg-white rounded-full shadow-lg hover:bg-primary/20 transition-colors duration-200"
        (click)="onClose()"
      >
        <i class="fa-solid fa-xmark text-xl text-primary"></i>
      </button>
    </div>
    <h4 class="text-lg font-bold text-center mb-6">
      Acceder al enlace con contraseña
    </h4>
    <form (submit)="onSubmit()" class="space-y-6" [formGroup]="myForm">
      <label class="block mb-2 text-sm font-medium text-white" for="password"
        >Contraseña</label
      >
      <input
        type="password"
        id="password"
        placeholder="Contraseña"
        class="input input-bordered w-full p-2 text-sm"
        formControlName="password"
      />

      @if( response() !== null) {
      <p class="text-green-500">{{ response() }}</p>
      } @if( errors().code !== null) {
      <p class="text-red-500">{{ errors().code }}: {{ errors().message }}</p>
      }

      <button
        type="submit"
        class="btn btn-primary w-full p-2 text-sm"
        [disabled]="loading() || myForm.invalid"
        [class]="loading() ? 'loading' : ''"
      >
        {{ !isValidPassword() ? "Acceder" : "Redireccionando al enlace..." }}
      </button>
    </form>
  </div>
</div>
